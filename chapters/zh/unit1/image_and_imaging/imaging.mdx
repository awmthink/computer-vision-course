# 数字处理中的图像采集基础

在数字处理中的图像采集是将物理现象（我们在现实生活中看到的）转化为数字表示（我们在计算机中看到的）的第一步。它从光源与被成像物体的相互作用开始。这个光源可以是各种类型的，从传统光源到更复杂的形式，如电磁或超声波能量。这种相互作用导致能量被场景中的物体反射或透过。这些能量由传感器捕获，传感器将一种能量形式转化为另一种（即传感器将入射能量转换为电压信号）。电压信号随后被数字化，形成数字图像。为此，我们需要先进的技术和精确的校准，以确保能够准确地表示物理场景。在接下来的部分中，我们将探讨其中的一些技术。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_3.png" alt="1964年由Ranger 7拍摄的月球首张照片（图片来源：NASA）">
<p>图1：1964年由Ranger 7拍摄的月球首张照片（图片来源：NASA）</p>
</div>

## 传感器技术及其在图像采集中的作用

如前所述，数字成像的第一步是传感器。为了创建二维图像，单一感应元件（如光电二极管）沿x和y轴移动。相比之下，更常见的传感器条带在一个方向上线性捕获图像。因此，要获得完整的二维图像，这些条带需要垂直移动。这种技术常见于平板扫描仪等设备以及航空成像系统。在更专业的应用中，如医学成像（如CAT扫描），则使用环状配置的传感器条带。这些设置涉及复杂的重建高级算法，以将捕获的数据转换为有意义的图像。

传感器阵列（如数字相机中的CCD）由二维感应元件阵列组成。它们无需移动即可捕获完整图像，因为每个元件检测场景的一部分。这些阵列的优势在于，不需要像单一感应元件和传感器条带那样移动来捕获图像。捕获的能量被聚焦到传感器阵列上，转换为模拟信号，随后数字化，形成数字图像。

## 数字图像的形成与表示

数字图像形成的核心是函数 $f(x,y)$，它由光源 $i(x,y)$ 和场景反射率 $r(x,y)$ 确定。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_6.png" alt="通过收集场景中的反射光形成图像">
<p>图2：通过收集场景中的反射光形成图像</p>
</div>

在基于透射的成像中，如X射线，透射率代替了反射率。图像的数字表示本质上是一个数值矩阵或数组，每个数值对应于一个像素。将连续图像数据转化为数字格式的过程包括两步：
- 采样，将坐标值数字化。
- 量化，将振幅值转换为离散量。

数字图像的分辨率和质量主要取决于以下因素：
- 使用的样本数量和离散强度级别。
- 成像系统的动态范围，即最大可测量强度与最小可检测强度的比率，这也对图像的外观和对比度起关键作用。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_5.png" alt="1957年Russell A. Kirsch拍摄的第一张数字照片">
<p>图3：1957年Russell A. Kirsch拍摄的第一张数字照片</p>
</div>

## 理解数字成像中的分辨率

空间分辨率指的是图像中可分辨的最小细节，通常以每单位距离的线对或每单位距离的像素来衡量。空间分辨率的意义依赖于上下文，根据使用的空间单位不同而变化。例如，2000万像素的相机通常比800万像素的相机提供更高的细节分辨率。

强度分辨率与可检测的最小强度变化有关，通常受到硬件能力的限制。它以二进制增量（如8位或256级）进行量化。这些强度变化的感知受到各种因素的影响，包括噪声、饱和度和人类视觉的能力。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_7.png" alt="图像分辨率的示意图">
<p>图4：图像分辨率的示意图</p>
</div>

## 图像复原与重建技术

图像复原专注于利用对退化现象的了解来恢复退化的图像。它通常涉及对退化过程建模并应用逆过程以恢复原始图像。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_8.jpg" alt="图像复原的示例，其中图像被复原并上色">
<p>图5：图像复原的示例，其中图像被复原并上色</p>
</div>

相比之下，图像增强更为主观。其目的是提高图像的视觉效果。复原技术包括处理噪声等问题，噪声可能来源于图像采集或传输过程中的多个环节。由于具有降噪能力，高级滤波器（自适应和非自适应）在此种情况下被广泛使用。在医学成像中，尤其在计算机断层扫描（CT）中，从投影中重建图像是一个重要应用。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_2.png" alt="1838年巴黎寺庙大道上Louis Daguerre拍摄的首张人像照片">
<p>图6：1838年巴黎寺庙大道上Louis Daguerre拍摄的首张人像照片</p>
</div>

## 图像处理中的颜色

颜色在图像处理中是一个强有力的描述符。它在物体识别和辨识中发挥作用。彩色图像处理包括伪彩色处理和全彩色处理。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_4.png" alt="1861年James Clerk Maxwell使用三种颜色滤光器拍摄的首张彩色照片">
<p>图7：1861年James Clerk Maxwell使用三种颜色滤光器拍摄的首张彩色照片</p>
</div>

伪彩色处理为灰度强度分配颜色，而全彩色处理则使用来自传感器的真实颜色数据。理解颜色的基本原理，包括人类色觉、色谱和色光属性，是关键。颜色的基本原理涉及人类视觉的三色特性，即对红、绿和蓝的感知。另一方面，颜色感知是三种类型的视锥细胞被刺激的方式。最后，色谱是电磁波谱中引发不同视觉感知的波长范围。

不同的颜色模型，如用于显示器和相机的RGB，以及用于打印的CMY/CMYK，在数字成像中标准化了颜色表示。在RGB颜色模型中，图像具有三个分量（即通道），分别代表红色、绿色和蓝色。RGB图像的像素深度决定了可能的颜色数量，典型的全彩色图像有24位深度（每个颜色分量8位），这允许超过1600万种颜色！RGB色立方体表示在该模型中可实现的颜色范围，灰度从黑色到白色延伸。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_9.png" alt="图9：图像的颜色通道">
<p>图8：图9：图像的颜色通道</p>
</div>

## 图像压缩

数据压缩减少了表示信息所需的数据。它区分了数据（传递信息的手段）和信息本身。其目标是去除冗余，即无关或重复的数据。例如，10:1的压缩比意味着90%的数据冗余。

在数字图像压缩中，特别是二维强度阵列，三种主要的冗余类型为：
- **编码冗余：** 编码冗余特别存在于强度值分布不均的图像中

，这表现为非均匀的直方图。在这种图像中，某些强度值比其他值出现得更频繁，但自然二进制编码为每个强度值分配相同数量的位，而不考虑其频率。这意味着常见值没有比罕见值更有效地编码，导致位的使用效率低下，从而产生编码冗余。理想情况下，更常见的值应分配较短的码，而较少见的值应分配较长的码，以最小化使用的位数，这在非均匀直方图中的自然二进制编码中并不适用。
- **空间和时间冗余：** 空间和时间冗余出现在图像中的相关像素值或视频帧之间。
- **无关信息：** 无关信息包括人类视觉系统忽略的数据或图像目的不需要的数据。

高效编码考虑事件概率，如图像中的强度值。诸如游程编码之类的技术可以减少具有恒定强度线条的图像中的空间冗余，显著压缩数据。同样，视频序列中的时间冗余也可以得到解决。然而，去除无关信息会导致量化，这是定量信息的不可逆损失。信息论中的概念如熵，有助于确定准确表示图像所需的最小数据量。图像压缩后的质量通过客观保真度标准（输入和输出的数学函数）和主观保真度标准（人类评价）来评估。

图像压缩系统使用编码器和解码器。编码器通过映射（减少空间/时间冗余）、量化（舍弃无关信息）和符号编码（为量化器输出分配编码）来消除冗余。解码器反向执行这些过程，但量化除外。图像文件格式、容器和标准如JPEG和MPEG用于数据的组织和存储。霍夫曼编码是去除编码冗余的一种显著方法，通过先编码最不常见的源符号，创造高效的表示。